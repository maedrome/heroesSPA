import{a as p}from"./chunk-NJ2I7JHJ.js";import{a as h}from"./chunk-U5LOJRI2.js";import{C as a,W as i,Z as c,da as u,n as o,r as l}from"./chunk-QDOQSJTN.js";var k=(()=>{let t=class t{constructor(){this.http=u(h),this.baseUrl=p.baseUrl}get currentUser(){if(this.user)return structuredClone(this.user)}login(e,n){return this.http.post(`${this.baseUrl}/login`,{email:e,pass:n}).pipe(a(r=>(console.log(r),o(void 0))),i(r=>this.user=r?.user),i(r=>localStorage.setItem("token",r?.hash||"")))}logout(){this.user=void 0,localStorage.clear()}checkAuthentication(){return localStorage.getItem("token")?this.http.get(`${this.baseUrl}/login/${localStorage.getItem("token")}`).pipe(i(e=>this.user=e),l(e=>!!e),a(e=>o(!1))):o(!1)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();export{k as a};
