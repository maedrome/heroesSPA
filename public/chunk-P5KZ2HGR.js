import{a as ae}from"./chunk-2DO7GAMV.js";import"./chunk-EXQRGAAA.js";import{a as C,b as ne}from"./chunk-5MUF5WAN.js";import"./chunk-7EJ72ASH.js";import{K as oe,W as re,a as w,b as $,c as z,d as J,f as K,g as U,h as X,l as Y,m as Z,n as ee,o as te,p as ie}from"./chunk-356WMELQ.js";import"./chunk-JGYM447R.js";import"./chunk-U5LOJRI2.js";import{n as G,o as W}from"./chunk-FQX2LY3L.js";import{Ab as a,Bb as l,Cb as h,Eb as A,Hb as _,Jb as v,Nb as I,Ob as L,Pb as N,Qb as B,Rb as g,S as E,Sb as Q,T as F,Tb as k,Va as c,Vb as j,Yb as R,Zb as q,da as M,g as y,ia as P,mb as f,n as x,nb as T,pb as V,rb as d,sa as p,ta as u,wb as b,xb as D,yb as H,zb as O}from"./chunk-QDOQSJTN.js";var se=["container"],le=()=>[w];function me(e,i){if(e&1&&(a(0,"mat-option",9)(1,"span"),g(2),l()()),e&2){let s=i.$implicit;d("value",s),c(2),Q(s.superhero)}}function ce(e,i){if(e&1&&(a(0,"mat-option")(1,"span"),g(2),l()()),e&2){let s=v(3);c(2),k("No hero found with ",s.value,"")}}function pe(e,i){e&1&&(f(0,ce,3,1),T(1,0,le),V(500))}function ue(e,i){if(e&1&&f(0,pe,3,0),e&2){let s=v();b(0,s.value!==""?0:-1)}}function fe(e,i){if(e&1&&(a(0,"div",11),h(1,"app-hero-card",12),l()),e&2){let s=v();c(),d("hero",s.heroesService.currentHero())}}var Oe=(()=>{let i=class i{constructor(){this.myControl=new K(""),this.filteredOptions=new y,this.heroesService=M(ne),this.value=""}ngOnInit(){this.heroesService.currentHero.set({id:"",superhero:"",publisher:C.DCComics,alter_ego:"",first_appearance:"",characters:"",alt_img:""}),this.filteredOptions=this.myControl.valueChanges.pipe(E(""),F(t=>(this.value=t||"",t?this.heroesService.getSuggestions(t):x([]))))}onSelect(t){if(!t.option.value){this.heroesService.currentHero.set({id:"",superhero:"",publisher:C.DCComics,alter_ego:"",first_appearance:"",characters:"",alt_img:""});return}let o=t.option.value;this.myControl.setValue(o.superhero),this.heroesService.currentHero.set(o)}onFocus(t){this.container.nativeElement.classList.remove("hover:bg-[#ececec]"),this.container.nativeElement.classList.remove("bg-[#f5f5f5]"),this.container.nativeElement.classList.add("bg-[#e4e4e4]")}onBlur(t){this.container.nativeElement.classList.remove("bg-[#e4e4e4]"),this.container.nativeElement.classList.add("bg-[#f5f5f5]"),this.container.nativeElement.classList.add("hover:bg-[#ececec]")}ngOnDestroy(){this.heroesService.currentHero.set({id:"",superhero:"",publisher:C.DCComics,alter_ego:"",first_appearance:"",characters:"",alt_img:""})}onSubmit(t){t.preventDefault()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=P({type:i,selectors:[["app-search-page"]],viewQuery:function(o,r){if(o&1&&I(se,5),o&2){let n;L(n=N())&&(r.container=n.first)}},standalone:!0,features:[j],decls:17,vars:6,consts:[["container",""],["auto","matAutocomplete"],[1,"md:gap-6","px-3","md:px-6","lg:px-8","xl:px-12","py-4"],[1,"w-full","h-2"],[1,"bg-[#f5f5f5]","hover:bg-[#ececec]","flex","justify-center","m-auto","items-center","min-w-64","w-10/12","md:w-3/5","rounded-[50px]","shadow-[8px_8px_black]","border-3","border-black","border-solid"],[1,"w-full","px-6",3,"submit"],[1,"w-full"],["type","text","placeholder","Hero","aria-label","Text","matInput","",3,"focus","blur","formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],[3,"value"],[1,"w-full","h-8"],[1,"min-w-64","w-2/6","md:w-1/5","m-auto","pb-4","md:pb-5"],[3,"hero"]],template:function(o,r){if(o&1){let n=A();a(0,"div",2),h(1,"div",3),a(2,"div",4,0)(4,"form",5),_("submit",function(m){return p(n),u(r.onSubmit(m))}),a(5,"mat-form-field",6)(6,"mat-label"),g(7,"Search Hero..."),l(),a(8,"input",7),_("focus",function(m){return p(n),u(r.onFocus(m))})("blur",function(m){return p(n),u(r.onBlur(m))}),l(),a(9,"mat-autocomplete",8,1),_("optionSelected",function(m){return p(n),u(r.onSelect(m))}),H(11,me,3,2,"mat-option",9,D,!1,ue,1,1),R(14,"async"),l()()()(),h(15,"div",10),f(16,fe,2,1,"div",11),l()}if(o&2){let n=B(10);c(8),d("formControl",r.myControl)("matAutocomplete",n),c(3),O(q(14,4,r.filteredOptions)),c(5),b(16,r.heroesService.currentHero().superhero!==""?16:-1)}},dependencies:[W,G,re,te,w,ie,ee,Z,oe,Y,U,$,z,J,X,ae],styles:["[_nghost-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}"]});let e=i;return e})();export{Oe as default};
